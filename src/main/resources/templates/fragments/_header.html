<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<meta charset="UTF-8" />
</head>
<body>
	<div th:fragment="_header">
		<nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">

			<ol class="navbar-nav" style="width: 35%;">
				<li class="nav-item"><a class="nav-link" th:href="@{/}">Nowo≈õci</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/}">O
						nas</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/}">Oferta</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/}">Kontakt</a></li>

			</ol>
			<form class="form-inline" action="/action_page.php"
				style="margin-left: 5%; width: 30%;">
				<input class="form-control mr-sm-2" type="text" placeholder="Search"></input>
				<button class="btn btn-success" type="submit" style="width: 30%;">Search</button>
			</form>
			<ol class="navbar-nav" style=" position: relative; left: 50px;">

				<!-- Authenticed -->
				<li class="nav-item"> <div sec:authorize="isAuthenticated()">
						<button type="button" class="btn btn-success" >Koszyk</button>
						</div></li>
						<li>&nbsp;</li>
				<li class="nav-item"> <div sec:authorize="isAuthenticated()">
						<button type="button" class="btn btn-success" onclick="$('#logoutForm').submit();">Wyloguj</button>
						</div></li>
						<li>&nbsp;</li>
						<li class="nav-item"> <div sec:authorize="hasRole('ADMIN')">
						<button type="button" class="btn btn-success">Panel administratora</button>
						</div></li>
				<!--NOT Authenticed -->
				<li class="nav-item"><div sec:authorize="!isAuthenticated()"><button type="button" class="btn btn-success"
						onclick="document.getElementById('id01').style.display='block'"
						style="width: auto;">Login</button></div></li>
				<li>&nbsp;</li>
				<li class="nav-item"><div sec:authorize="!isAuthenticated()"><button type="button" class="btn btn-success"
						onclick="document.getElementById('id02').style.display='block'"
						style="width: auto;">Rejestracja</button></div></li>
			</ol>
			
			<!-- Logout -->
			<form  th:action="@{/logout}" method="post" id="logoutForm">
			<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
		</form>
			<!-- Reiestration -->
			<div id="id02" class="modal" style="width: 80%; height: 98%; margin: auto; padding: 0;">

				<form class="modal-content animate" action="/regestration" style="margin: auto;">
					<div class="imgcontainer">
						<span
							onclick="document.getElementById('id02').style.display='none'"
							style="width: auto;" class="close" title="Close Modal">&times;</span>
					</div>
					<div class="container" style="width: 80%; height: 80%; margin: auto; padding: 0;">
						<h1>Register</h1>
						<p>Please fill in this form to create an account.</p>
						<hr>

						<label for="email"><b>Email</b></label> <input type="text"
							placeholder="Enter Email" name="email" required> <label
							for="psw"><b>Password</b></label> <input type="password"
							placeholder="Enter Password" name="psw" required> <label
							for="psw-repeat"><b>Repeat Password</b></label> <input
							type="password" placeholder="Repeat Password" name="psw-repeat"
							required>
						<hr>
						<p>
							By creating an account you agree to our <a href="#">Terms
								Privacy</a>.
						</p>

						<button type="submit" class="registerbtn">Register</button>
					</div>

					<div class="container signin" >
						<p>
							Already have an account? <a href="#">Sign in</a>.
						</p>
					</div>
				</form>
			</div>



			<!--Login Form -->
			<div id="id01" class="modal">
				<form class="modal-content animate" th:action="@{/}" method="post">
					<div class="imgcontainer">
						<span
							onclick="document.getElementById('id01').style.display='none'"
							style="width: auto;" class="close" title="Close Modal">&times;</span>
					</div>

					<div class="container">
						
						<label for="uname"> <b>Username</b></label> <input type="text"
							placeholder="Enter Username" id="uname" name="uname" required>
						<label for="psw"> <b>Password</b></label> <input type="password"
							placeholder="Enter Password" id="psw" name="psw" required>

						<button type="submit">Login</button>
						<label> <input type="checkbox" checked="checked"
							name="remember"> Remember me
						</label>
					</div>

					<div class="container" style="background-color: #f1f1f1">
						<button type="button"
							onclick="document.getElementById('id01').style.display='none'"
							style="width: auto;" class="cancelbtn">Cancel</button>
						<span class="psw">Forgot <a href="#">password?</a></span>
					</div>
				</form>
			</div>
		</nav>
	</div>
</body>
</html>